(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48361498"],{5138:function(t,n,e){"use strict";e.d(n,"d",(function(){return o})),e.d(n,"f",(function(){return r})),e.d(n,"h",(function(){return a})),e.d(n,"a",(function(){return s})),e.d(n,"c",(function(){return c})),e.d(n,"e",(function(){return d})),e.d(n,"g",(function(){return u})),e.d(n,"i",(function(){return p})),e.d(n,"m",(function(){return l})),e.d(n,"l",(function(){return m})),e.d(n,"k",(function(){return f})),e.d(n,"j",(function(){return h})),e.d(n,"b",(function(){return g}));var i=e("db04"),o=function(t,n){return i["a"].post("cmw/pbqct.do",t,n)},r=function(t,n){return i["a"].post("cmw/pbqgi.do",t,n)},a=function(t,n){return i["a"].post("cmw/pbqml.do",t,n)},s=function(t,n){return i["a"].post("cmw/pbqan.do",t,n)},c=function(t,n){return i["a"].post("cmw/pbqcn.do",t,n)},d=function(t,n){return i["a"].post("cmw/pbqfc.do",t,n)},u=function(t,n){return i["a"].post("cmw/pbqll.do",t,n)},p=function(t,n){return i["a"].post("cmw/pbqmn.do",t,n)},l=function(t,n){return i["a"].post("cmw/pbqsl.do",t,n)},m=function(t,n){return i["a"].post("cmw/pbqsd.do",t,n)},f=function(t,n){return i["a"].post("cmw/pbqrm.do",t,n)},h=function(t,n){return i["a"].post("cmw/pbqrc.do",t,n)},g=function(t,n){return i["a"].post("cmw/pbqci.do",t,n)}},"81e5":function(t,n,e){},b029:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"node-admission"},[e("chain-header",{attrs:{title:"前置节点访问许可管理",btn:!0}}),e("div",{staticClass:"bg-white padding"},[e("div",{staticStyle:{"margin-bottom":"10px",color:"#273D52"}},[t._m(0),e("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.confirmAdd}},[t._v("添加")]),e("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"功效说明：在“匿名调用访问”选择“允许”时，禁止特定的前置节点与链建立访问通道，被禁止的前置节点无法向链上提交或访问链上数据。"}},[e("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),e("Row",[e("Col",{attrs:{span:"5"}},[e("div",{staticClass:"condition-item"},[e("span",{staticClass:"condition-label"},[t._v("隶属企业名称：")]),e("Input",{attrs:{type:"text",placeholder:"隶属企业名称"},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}})],1)]),e("Col",{attrs:{span:"7"}},[e("div",{staticClass:"condition-item"},[e("span",{staticClass:"condition-label"},[t._v("前置节点身份标识：")]),e("Input",{attrs:{type:"text",placeholder:"前置节点身份标识"},model:{value:t.form.address,callback:function(n){t.$set(t.form,"address",n)},expression:"form.address"}})],1)]),e("Col",{attrs:{span:"6"}},[e("div",{staticClass:"condition-item"},[e("Button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)])],1),e("div",[e("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),e("div",{staticClass:"page"},[e("div",{staticClass:"page-inner"},[e("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.popup,expression:"popup"}]},[e("div",{attrs:{id:"qrcode"}}),e("div",{staticClass:"over"})])],1)],1)},o=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",[e("b",[t._v("前置节点调用访问：")])])}],r=(e("fb6a"),e("96cf"),e("1da1")),a=e("5138"),s=e("f96b"),c={data:function(){var t=this,n=[{title:"隶属企业名称",key:"main_company_company_name"},{title:"前置节点身份标识",key:"clientnode_id"},{title:"添加时间",key:"join_time",render:function(n,e){var i=e.row;return i.join_time?n("span",t.$moment.unix(i.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):n("span","--")}},{title:"操作",render:function(n,e){var i=e.row||{};return n("a",{on:{click:function(){t.del(i)}}},"删除")}}];return{acceptLimit:"1/3",name:"",address:"",addModal:!1,columns:n,oldList:[{clientnode_id:"1",main_system_system_id:"1",chainnode_name:"前置节点名称",main_system_system_name:"组织名称",main_company_company_id:"1",main_company_company_name:"企业名称",node_server_id:"nodeserver1",node_license_amount:0,join_time:1599704154e3}],list:[],page:{total:1,current:1,size:10},form:{name:"",address:"",status:""},switch1:"0",popup:0,listLoading:!1}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,a["c"]().then((function(n){t.listLoading=!1,t.oldList=n.rows,t.page.total=t.oldList.length,t.getList(),t.rule=n.rule})).catch((function(n){t.listLoading=!1,t.$Message.error(n.retMsg)}))},confirmAdd:function(){this.$router.push("/chain-frontNodeAdd")},ok:function(){},del:function(t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={from:sessionStorage.getItem("fbs_address"),orgAddress:t.main_company_company_id,orgName:t.main_company_company_name,nodeAddr:t.clientnode_id,nodeInfo:{name:"",cpu:"",memory:"",disk:"",bandwidth:""},amount:t.node_license_amount,nodeType:3,op:2},e.next=3,s["a"]({method:"ChainNodeApplyContractTxReq",jsBody:JSON.stringify(i)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return n.$Message.error(t.retMsg),!1}));case 3:o=e.sent,o&&n.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:o,setIntervalFunc:function(){return s["b"]({txId:o.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(n.$Message.error(t.remark),!0):3===t.status&&(n.$Message.success("修改成功"),n.init(),!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},cancel:function(){},search:function(){},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)}}},d=c,u=(e("eddd"),e("2877")),p=Object(u["a"])(d,i,o,!1,null,"4025b0ee",null);n["default"]=p.exports},eddd:function(t,n,e){"use strict";var i=e("81e5"),o=e.n(i);o.a},fb6a:function(t,n,e){"use strict";var i=e("23e7"),o=e("861d"),r=e("e8b5"),a=e("23cb"),s=e("50c4"),c=e("fc6a"),d=e("8418"),u=e("b622"),p=e("1dde"),l=e("ae40"),m=p("slice"),f=l("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),g=[].slice,_=Math.max;i({target:"Array",proto:!0,forced:!m||!f},{slice:function(t,n){var e,i,u,p=c(this),l=s(p.length),m=a(t,l),f=a(void 0===n?l:n,l);if(r(p)&&(e=p.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)?o(e)&&(e=e[h],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return g.call(p,m,f);for(i=new(void 0===e?Array:e)(_(f-m,0)),u=0;m<f;m++,u++)m in p&&d(i,u,p[m]);return i.length=u,i}})}}]);
//# sourceMappingURL=chunk-48361498.452d0663.js.map