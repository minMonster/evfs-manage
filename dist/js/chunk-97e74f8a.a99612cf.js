(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-97e74f8a"],{"11ac":function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return c}));var a=n("db04"),s=function(t,e){return a["a"].post("cmw/pbqbl.do",t,e)},r=function(t,e){return a["a"].post("cmw/pbqbd.do",t,e)},o=function(t,e){return a["a"].post("cmw/pbqbi.do",t,e)},i=function(t,e){return a["a"].post("cmw/pbqbc.do",t,e)},c=function(t,e){return a["a"].post("cmw/pbqml.do",t,e)}},"74bc":function(t,e,n){},"83d9":function(t,e,n){"use strict";var a=n("74bc"),s=n.n(a);s.a},b08e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-manager"},[n("business-header",{attrs:{title:"业务域管理员管理",btn:!0}}),n("div",[n("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"20px"}},[n("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[n("span",[t._v("业务域管理员决议审批规则")]),n("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:""}},[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1),n("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.edit}},[t._v("修改")])],1),n("RadioGroup",{staticClass:"approval",model:{value:t.rule,callback:function(e){t.rule=e},expression:"rule"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"0"}},[t._v("任意一个成员签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"100"}},[t._v("1/3成员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"200"}},[t._v("2/3成员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"300"}},[t._v("所有成员同时签批")])],1)],1)],1)],1),n("div",{staticClass:"bg-white padding"},[n("div",{staticClass:"league-mem"},[n("span",[t._v("业务域管理员列表")]),n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1),n("div",[n("Row",[n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"condition-item"},[n("span",{staticClass:"condition-label"},[t._v("管理员姓名：")]),n("Input",{attrs:{type:"text",placeholder:"管理员姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"condition-item"},[n("span",{staticClass:"condition-label"},[t._v("管理员身份标识：")]),n("Input",{attrs:{type:"text",placeholder:"管理员身份标识"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1)]),n("Col",{attrs:{span:"6"}},[n("div",{staticClass:"condition-item"},[n("Button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)])],1)],1),n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}}),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])],1),n("Modal",{attrs:{title:"添加管理"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[n("div",{staticClass:"add-modal-body"},[n("div",[n("Input",{attrs:{placeholder:"请输入管理员姓名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("div",[n("Input",{attrs:{placeholder:"请输入管理员身份标志地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)])])],1)],1)},s=[],r=(n("fb6a"),n("b0c0"),n("96cf"),n("1da1")),o=n("11ac"),i=n("f96b"),c={data:function(){var t=this,e=[{title:"管理员姓名",key:"member_name"},{title:"管理员身份标志地址",key:"member_address"},{title:"添加时间",key:"join_time",render:function(e,n){var a=n.row;return a.join_time?e("span",t.$moment.unix(a.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"操作",width:120,render:function(e,n){var a=n.row,s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.del(a)}}},"删除");return e("div",{class:"opt-btns"},[s])}}];return{rule:"0",addModal:!1,listLoading:!1,columns:e,oldList:[],list:[],page:{total:1,current:1,size:10},form:{name:"",address:"",status:""}}},mounted:function(){this.init(),this.approvalRules()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,o["f"]({groupId:"4",dataId:sessionStorage.getItem("fbs_biz_id"),address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.rule=e.rule,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},approvalRules:function(){},add:function(){this.addModal=!0},del:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={from:sessionStorage.getItem("fbs_address"),domainId:sessionStorage.getItem("fbs_biz_id"),member:t.member_address,op:2},n.next=3,i["a"]({method:"BizDomainMemberApplyContractTxReq",jsBody:JSON.stringify(a)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return i["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},edit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),domainId:sessionStorage.getItem("fbs_biz_id"),rule:t.rule},e.next=3,i["a"]({method:"BizDomainRuleApplyContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(e){return t.$Message.error(e.retMsg),!1}));case 3:a=e.sent,a&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:a,setIntervalFunc:function(){return i["b"]({txId:a.txId})},func:"send_trans"},(function(e){return e.then((function(e){return 4===e.status||5===e.status||6===e.status?(t.$Message.error(e.remark),!0):3===e.status&&(t.$Message.success("修改成功"),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},ok:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),domainId:sessionStorage.getItem("fbs_biz_id"),member:t.form.address,op:1},e.next=3,i["a"]({method:"BizDomainMemberApplyContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(e){return t.$Message.error(e.retMsg),!1}));case 3:a=e.sent,a&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:a,setIntervalFunc:function(){return i["b"]({txId:a.txId})},func:"send_trans"},(function(e){return e.then((function(e){return 4===e.status||5===e.status||6===e.status?(t.$Message.error(e.remark),!0):3===e.status&&(t.$Message.success("修改成功"),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},cancel:function(){this.form.address="",this.form.name=""},search:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},d=c,u=(n("83d9"),n("2877")),l=Object(u["a"])(d,a,s,!1,null,"6abde329",null);e["default"]=l.exports},f96b:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var a=n("db04"),s=function(t,e){return a["a"].post("cmw/pbrus.do",t,e)},r=function(t,e){return a["a"].post("bs/pbgen.do",t,e)},o=function(t,e){return a["a"].post("bs/pbgts.do",t,e)}},fb6a:function(t,e,n){"use strict";var a=n("23e7"),s=n("861d"),r=n("e8b5"),o=n("23cb"),i=n("50c4"),c=n("fc6a"),d=n("8418"),u=n("b622"),l=n("1dde"),f=n("ae40"),p=l("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!p||!m},{slice:function(t,e){var n,a,u,l=c(this),f=i(l.length),p=o(t,f),m=o(void 0===e?f:e,f);if(r(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?s(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return h.call(l,p,m);for(a=new(void 0===n?Array:n)(b(m-p,0)),u=0;p<m;p++,u++)p in l&&d(a,u,l[p]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-97e74f8a.a99612cf.js.map