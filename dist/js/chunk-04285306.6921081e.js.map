{"version":3,"sources":["webpack:///./src/views/admin/data/nodeAddAdmin.vue?9457","webpack:///./src/views/admin/data/api.js","webpack:///./src/views/admin/data/nodeAddAdmin.vue?95f3","webpack:///src/views/admin/data/nodeAddAdmin.vue","webpack:///./src/views/admin/data/nodeAddAdmin.vue?5e72","webpack:///./src/views/admin/data/nodeAddAdmin.vue"],"names":["pbqss","params","opts","request","post","pbqsb","pbqml","pbqrm","pbqan","pbqrc","pbqci","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","on","back","attrs","_v","_m","_s","abridge","formatCreatetime","storage_session","storage_name","storage_id_format","join_time_format","_e","directives","name","rawName","value","form","expression","domProps","$event","target","composing","$set","submit","staticRenderFns","data","storage","address","addressAddr","nameAddr","id","createtime","popup","mounted","init","watch","computed","$moment","unix","format","fistStr","lastStr","methods","JSON","parse","sessionStorage","getItem","pbqci_address","pbqci_joinTime","setItem","res","joinTime","console","log","err","window","history","go","component"],"mappings":"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","file":"js/chunk-04285306.6921081e.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nodeAddAdmin.vue?vue&type=style&index=0&id=bf8837c4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nodeAddAdmin.vue?vue&type=style&index=0&id=bf8837c4&lang=less&scoped=true&\"","import request from '@/http'\n// 数据存管域管理\nexport const pbqss = (params, opts) => request.post('cmw/pbqss.do', params, opts)\n// 业务域\nexport const pbqsb = (params, opts) => request.post('cmw/pbqsb.do', params, opts)\n// 数据存管域-域管理员\nexport const pbqml = (params, opts) => request.post('cmw/pbqml.do', params, opts)\nexport const pbqrm = (params, opts) => request.post('cmw/pbqrm.do', params, opts)\n// 链-节点准入-准入节点服务器列表\nexport const pbqan = (params, opts) => request.post('cmw/pbqan.do', params, opts)\nexport const pbqrc = (params, opts) => request.post('cmw/pbqrc.do', params, opts)\nexport const pbqci = (params, opts) => request.post('cmw/pbqci.do', params, opts)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-admission\"},[_c('div',{staticClass:\"bg-white padding\",staticStyle:{\"margin-bottom\":\"10px\",\"color\":\"#373737\"}},[_c('div',{staticClass:\"nodeback\",staticStyle:{\"cursor\":\"pointer\",\"margin-bottom\":\"10px\"},on:{\"click\":_vm.back}},[_c('Icon',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"md-arrow-back\"}}),_vm._v(\"退出\")],1),_vm._m(0),_c('div',{staticClass:\"clear chain-baseinfo\"},[_c('Row',{staticClass:\"chain-header-content\"},[_c('Col',{attrs:{\"span\":\"8\"}},[_c('div',[_vm._v(\"链实例唯一标识：\"+_vm._s(_vm.abridge))])]),_c('Col',{attrs:{\"span\":\"10\"}},[_c('div',[_vm._v(\"链实例创建时间：\"+_vm._s(_vm.formatCreatetime))])])],1),(_vm.storage_session)?_c('Row',[_c('Col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"数据存管域名称：\"+_vm._s(_vm.storage_session.storage_name || '--'))])]),_c('Col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"数据存管域唯一标识：\"+_vm._s(_vm.storage_session.storage_id_format))])]),_c('Col',{attrs:{\"span\":8}},[_c('div',[_vm._v(\"创建时间：\"+_vm._s(_vm.storage_session.join_time_format))])])],1):_vm._e()],1),_c('div',{staticClass:\"split-line\"}),_c('div',{staticClass:\"set-from\"},[_c('Row',[_c('Col',[_c('div',{staticClass:\"condition-item\"},[_c('p',{staticClass:\"condition-label\",attrs:{\"label-position\":\"top\"}},[_vm._v(\"节点服务器名称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"condition-int\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入要申请链实例准入的节点服务器名称\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})])])],1),_c('Row',[_c('Col',[_c('div',{staticClass:\"condition-item\"},[_c('p',{staticClass:\"condition-label\",attrs:{\"label-position\":\"top\"}},[_vm._v(\"节点服务器身份标识：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.address),expression:\"form.address\"}],staticClass:\"condition-int\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入要申请链实例准入的节点身份标识\"},domProps:{\"value\":(_vm.form.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"address\", $event.target.value)}}})])])],1),_c('Row',[_c('Col',[_c('div',{staticClass:\"condition-item\"},[_c('p',{staticClass:\"condition-label\",attrs:{\"label-position\":\"top\"}},[_vm._v(\"隶属企业名称：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.nameAddr),expression:\"form.nameAddr\"}],staticClass:\"condition-int\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入节点隶属的企业名称\"},domProps:{\"value\":(_vm.form.nameAddr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"nameAddr\", $event.target.value)}}})])])],1),_c('Row',[_c('Col',[_c('div',{staticClass:\"condition-item\",attrs:{\"label-position\":\"top\"}},[_c('p',{staticClass:\"condition-label\"},[_vm._v(\"隶属企业身份标识：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.addressAddr),expression:\"form.addressAddr\"}],staticClass:\"condition-int\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入节点隶属的企业身份标识\"},domProps:{\"value\":(_vm.form.addressAddr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"addressAddr\", $event.target.value)}}})])])],1),_c('Row',[_c('Col',[_c('div',{staticClass:\"set-from-item\",staticStyle:{\"text-align\":\"center\"}},[_c('Button',{staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"申请\")])],1)])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.popup),expression:\"popup\"}]},[_c('div',{attrs:{\"id\":\"qrcode\"}}),_c('div',{staticClass:\"over\"})])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"set-body\",staticStyle:{\"margin-bottom\":\"10px\",\"color\":\"#273D52\"}},[_c('input',{attrs:{\"type\":\"hidden\",\"id\":\"signResult\"}}),_c('h3',{staticStyle:{\"color\":\"#273D52\",\"font-weight\":\"600\",\"font-size\":\"18px\"}},[_vm._v(\"节点服务器数据存管域准入申请\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"node-admission\">\n    <div class=\"bg-white padding\" style=\"margin-bottom: 10px;color: #373737;\">\n      <div class=\"nodeback\" @click=\"back\" style=\"cursor: pointer;margin-bottom:10px;\"><Icon type=\"md-arrow-back\" style=\"margin-right:5px;\" />退出</div>\n      <div style=\"margin-bottom: 10px;color: #273D52;\" class=\"set-body\">\n        <input type=\"hidden\" id=\"signResult\">\n        <h3 style=\"color: #273D52;font-weight: 600;font-size:18px;\">节点服务器数据存管域准入申请</h3>\n      </div>\n      <div class=\"clear chain-baseinfo\">\n        <Row class=\"chain-header-content\">\n          <Col span=\"8\">\n          <div>链实例唯一标识：{{abridge}}</div>\n          </Col>\n          <Col span=\"10\">\n          <div>链实例创建时间：{{formatCreatetime}}</div>\n          </Col>\n        </Row>\n        <Row v-if=\"storage_session\">\n          <Col :span=\"8\">\n          <div>数据存管域名称：{{storage_session.storage_name || '--'}}</div>\n          </Col>\n          <Col :span=\"8\">\n          <div>数据存管域唯一标识：{{storage_session.storage_id_format}}</div>\n          </Col>\n          <Col :span=\"8\">\n          <div>创建时间：{{storage_session.join_time_format}}</div>\n          </Col>\n        </Row>\n      </div>\n      <div class=\"split-line\"></div>\n      <div class=\"set-from\">\n        <Row>\n          <Col>\n          <div class=\"condition-item\">\n            <p class=\"condition-label\" label-position=\"top\">节点服务器名称：</p>\n            <input class=\"condition-int\" type=\"text\" v-model=\"form.name\"  placeholder=\"请输入要申请链实例准入的节点服务器名称\"></input>\n          </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n          <div class=\"condition-item\">\n            <p class=\"condition-label\" label-position=\"top\">节点服务器身份标识：</p>\n            <input class=\"condition-int\" type=\"text\" v-model=\"form.address\" placeholder=\"请输入要申请链实例准入的节点身份标识\"></input>\n          </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n          <div class=\"condition-item\">\n            <p class=\"condition-label\" label-position=\"top\">隶属企业名称：</p>\n            <input class=\"condition-int\" type=\"text\" v-model=\"form.nameAddr\" placeholder=\"请输入节点隶属的企业名称\"></input>\n          </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n          <div class=\"condition-item\" label-position=\"top\">\n            <p class=\"condition-label\">隶属企业身份标识：</p>\n            <input class=\"condition-int\" type=\"text\" v-model=\"form.addressAddr\"  placeholder=\"请输入节点隶属的企业身份标识\"></input>\n          </div>\n          </Col>\n        </Row>\n        <Row>\n          <Col >\n          <div class=\"set-from-item\" style=\"text-align:center;\">\n            <Button style=\"width: 80px;\" @click=\"submit\" type=\"primary\">申请</Button>\n          </div>\n          </Col>\n        </Row>\n        <div  v-show=\"popup\">\n          <!-- <div class=\"qrcode\"  ref=\"qrCodeUrl\"></div> -->\n          <div id=\"qrcode\"></div>\n          <div class=\"over\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as cApi from '@/http/api'\nimport * as api from './api'\n\nexport default {\n  data () {\n    return {\n      storage_session: null,\n      storage: {},\n      form: {\n        address: '',\n        name: '',\n        addressAddr: '',\n        nameAddr: ''\n      },\n      id: '',\n      createtime: '',\n      popup: 0\n    }\n  },\n  mounted () {\n    this.init()\n  },\n  watch: {\n\n  },\n  computed: {\n    formatCreatetime () {\n      if (!this.createtime) {\n        return '--'\n      }\n      return this.$moment.unix(this.createtime / 1000).format('YYYY-MM-DD HH:mm:ss')\n    },\n    abridge () {\n      if (!this.id) {\n        return '--'\n      }\n      let stringlength = this.id.length\n      let fistStr = this.id.substring(0, 6)\n      let lastStr = this.id.substring(stringlength - 6, stringlength)\n      return fistStr + '.....' + lastStr\n    }\n  },\n  methods: {\n    init () {\n      this.storage_session = JSON.parse(sessionStorage.getItem('fbs_storage'))\n      let pbqci_address = sessionStorage.getItem('pbqci_address')\n      let pbqci_joinTime = sessionStorage.getItem('pbqci_joinTime')\n      if (pbqci_address && pbqci_joinTime) {\n        this.id = pbqci_address\n        this.createtime = pbqci_joinTime\n        return\n      }\n      api.pbqci().then(res => {\n        sessionStorage.setItem('pbqci_address', res.address)\n        sessionStorage.setItem('pbqci_joinTime', res.joinTime)\n        this.id = res.address\n        this.createtime = res.joinTime\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    async submit () {\n      let jsBody = {\n        from: sessionStorage.getItem('fbs_address'),\n        'domainId': sessionStorage.getItem('fbs_storage_id'), // 存管域ID\n        'nodeAddress': this.form.addressAddr, // 节点地址\n        'nodeInfo': {\n          'nodeName': this.form.name, // 节点名称\n          'orgName': this.form.nameAddr, // 节点归属组织名称\n          'orgAddress': this.form.address, // 节点归属组织地址\n          'dSName': sessionStorage.getItem('fbs_storage_id') // 存管域名称\n        },\n        'url': '', // 提供给该存管域文件上传下载的url,如：http://124.70.164.10:8000/fbs\n        'amount': '1', // 许可证数量，固定传 1\n        'op': 1 // 1添加；2移除\n      }\n      let data = await cApi.pbgen({\n        'method': 'DSDomainDSNodeApplyContractTxReq',\n        'jsBody': JSON.stringify(jsBody)\n      }).then(res => {\n        return {\n          hexTxBody: res.hexTxBody,\n          txId: res.txId\n        }\n      }).catch(err => {\n        this.$Message.error(err.retMsg)\n        return false\n      })\n      if (data) {\n        this.$qrCodeAuthDialog.show(\n          {\n            url: 'bs/pbdtx.do',\n            data,\n            // 这里要写一个闭包函数 返回 需要的 api\n            setIntervalFunc: () => cApi.pbgts({ txId: data.txId }),\n            func: 'send_trans'\n          },\n          (resPromise) => {\n            // resPromise 轮询的结果 在此处处理业务逻辑\n            return resPromise.then(res => {\n              // 1待提交；2执行中；3执行完成；4执行失败；5提交失败；6未知状态\n              if (res.status === 4 || res.status === 5 || res.status === 6) {\n                this.$Message.error(res.remark)\n                return true\n              }\n              if (res.status === 3) {\n                this.$router.go(-1)\n                this.$Message.success('保存成功！')\n                this.addModal = false\n                return true\n              } else {\n                return false\n              }\n            }).catch(() => {\n              return false\n            })\n          })\n      }\n    },\n    back () {\n      window.history.go(-1)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n#qrcode {\n   position: fixed;\n   border:10px solid  white;\n   margin:12px;\n   border-radius: 0.25rem;\n   left: 50%;\n   top: 50%;\n   transform: translate(-50%, -50%);\n   z-index: 1000;\n }\n  .over {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    opacity: 0.3;//透明度为70%\n    filter: alpha(opacity=70);\n    top: 0;\n    left: 0;\n    z-index: 999;\n    background-color: #111111;\n  }\n.set-body{\n  h3 {\n    text-align: center;\n  }\n}\n.condition-item {\n    display: flex;\n    padding: 10px 10px 20px 0;\n    position: relative;\n    .condition-label {\n      float: left;\n      vertical-align: middle;\n      line-height: 32px;\n      width:150px;\n    }\n     .condition-int{\n        width: 350px;\n        padding-left: 13px;\n        outline: none;\n}\n    .ivu-input-wrapper {\n      width: 50%;\n    }\n    .ivu-select {\n      width: 60%;\n    }\n  }\n  .set-from{\n    width:500px;\n    margin:0 auto;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nodeAddAdmin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nodeAddAdmin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nodeAddAdmin.vue?vue&type=template&id=bf8837c4&scoped=true&\"\nimport script from \"./nodeAddAdmin.vue?vue&type=script&lang=js&\"\nexport * from \"./nodeAddAdmin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./nodeAddAdmin.vue?vue&type=style&index=0&id=bf8837c4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bf8837c4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}