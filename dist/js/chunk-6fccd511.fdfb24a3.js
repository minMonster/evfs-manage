(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fccd511"],{"405c":function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"node-admission"},[a("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"10px",color:"#373737"}},[a("div",{staticClass:"nodeback",staticStyle:{cursor:"pointer","margin-bottom":"10px"},on:{click:t.back}},[t._v("< 退出")]),t._m(0),a("div",{staticClass:"split-line"}),t._m(1),a("div",{staticClass:"split-line"}),a("Row",[a("Col",{attrs:{span:"12"}},[a("div",{staticClass:"condition-item"},[a("span",{staticClass:"condition-label"},[t._v("业务域名称：")]),a("Input",{attrs:{type:"text",placeholder:"请输入全链唯一的业务域名称"},model:{value:t.name,callback:function(n){t.name=n},expression:"name"}})],1)])],1)],1),a("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[a("span",[t._v("数据存管域管理员决议审批规则")]),a("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"选项说明:所有需要链管理委员审批的事务，通过决议的签批规则。* “任意一个联盟委员签批”：联盟委员会成员列表中的任何一个成员签批同意，相应的决议即可通过。* “1/3联盟委员同时签批”：只有联盟委员会成员列表中的任意1/3个成员签批同意，相应的决议方可通过。* “2/3联盟委员同时签批”：只有联盟委员会成员列表中的任意2/3个成员签批同意，相应的决议方可通过。* “所有联盟委员同时签批”： 只有联盟委员会成员列表中的所有成员签批同意，相应的决议方可通过。"}},[a("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),a("RadioGroup",{staticClass:"approval",model:{value:t.rule,callback:function(n){t.rule=n},expression:"rule"}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("Radio",{attrs:{label:"0"}},[t._v("任意一个成员签批")])],1),a("Col",{attrs:{span:"6"}},[a("Radio",{attrs:{label:"100"}},[t._v("1/3成员同时签批")])],1),a("Col",{attrs:{span:"6"}},[a("Radio",{attrs:{label:"200"}},[t._v("2/3成员同时签批")])],1),a("Col",{attrs:{span:"6"}},[a("Radio",{attrs:{label:"300"}},[t._v("所有成员同时签批")])],1)],1)],1)],1),a("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"league-mem"},[a("span",[t._v("数据存管域管理")]),a("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"选项说明:所有需要链管理委员审批的事务，通过决议的签批规则。* “任意一个联盟委员签批”：联盟委员会成员列表中的任何一个成员签批同意，相应的决议即可通过。* “1/3联盟委员同时签批”：只有联盟委员会成员列表中的任意1/3个成员签批同意，相应的决议方可通过。* “2/3联盟委员同时签批”：只有联盟委员会成员列表中的任意2/3个成员签批同意，相应的决议方可通过。* “所有联盟委员同时签批”： 只有联盟委员会成员列表中的所有成员签批同意，相应的决议方可通过。"}},[a("Icon",{attrs:{type:"ios-help-circle-outline"}})],1),a("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1),a("Table",{attrs:{columns:t.columns1,data:t.data1}})],1),a("Modal",{attrs:{title:"添加业务域管理员",loading:t.submitLoading},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.addModal,callback:function(n){t.addModal=n},expression:"addModal"}},[a("div",{staticClass:"add-modal-body"},[a("div",[a("Input",{attrs:{placeholder:"请输入管理员姓名"},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}})],1),a("div",[a("Input",{attrs:{placeholder:"请输入管理员身份标志地址"},model:{value:t.form.address,callback:function(n){t.$set(t.form,"address",n)},expression:"form.address"}})],1)])]),a("div",{staticStyle:{"text-align":"center"}},[a("Button",{staticClass:"fcenter",attrs:{type:"primary"},on:{click:t.establish}},[t._v("创建")])],1)],1)},o=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticStyle:{"margin-bottom":"10px",color:"#273D52"}},[a("span",{staticStyle:{color:"#273D52","font-weight":"600","font-size":"18px"}},[t._v("业务域基础信息设置")])])},function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticStyle:{"margin-bottom":"10px",color:"#273D52"}},[a("span",{staticStyle:{color:"#273D52","font-weight":"600","font-size":"15px"}},[t._v("基本信息")])])}],s=(a("d81d"),a("a434"),a("b0c0"),a("96cf"),a("1da1")),r=a("5530"),i=(a("9aa7"),a("f96b")),c={data:function(){var t=this,n=[{title:"管理员名称",key:"name"},{title:"管理员身份标志地址",key:"address"},{title:"操作",width:100,render:function(n,a){var e="删除";return n("a",{on:{click:function(){var n=a.index;t.data1.splice(n,1)}}},e)}}];return{form:{name:"",address:""},rule:"0",BusinessDomain:"",data1:[],name:"",submitLoading:!1,columns1:n,total:100,addModal:!1,switch1:"0",switch2:"0"}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){},seraachBtn:function(){},add:function(){this.addModal=!0},cancel:function(){},ok:function(){var t=this;setTimeout((function(){t.submitLoading=!1,t.$nextTick((function(){t.submitLoading=!0}))}),100),""===this.form.name||""===this.form.address?this.$Message.warning("请先完成表单！"):(this.data1.push(Object(r["a"])({},this.form)),this.form.name="",this.form.address="",this.addModal=!1)},establish:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={from:sessionStorage.getItem("fbs_address"),orgAddress:"00",orgName:"00",domainId:sessionStorage.getItem("fbs_storage_id"),bizDomainInfo:{name:t.name},members:t.data1.map((function(t){return t.address})),op:1,rule:t.rule},n.next=3,i["a"]({method:"DSDomainBizDomainApplyContractTxReq",jsBody:JSON.stringify(a)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(n){return t.$Message.error(n.retMsg),!1}));case 3:e=n.sent,e&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:e,setIntervalFunc:function(){return i["b"]({txId:e.txId})},func:"send_trans"},(function(n){return n.then((function(n){return 4===n.status||5===n.status||6===n.status?(t.$Message.error(n.remark),!0):3===n.status&&(t.$Message.success("修改成功"),t.addModal=!1,window.history.go(-1),!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},back:function(){window.history.go(-1)}}},d=c,l=(a("64a1"),a("2877")),u=Object(l["a"])(d,e,o,!1,null,"66aca290",null);n["default"]=u.exports},"64a1":function(t,n,a){"use strict";var e=a("c043"),o=a.n(e);o.a},"9aa7":function(t,n,a){"use strict";a.d(n,"g",(function(){return o})),a.d(n,"f",(function(){return s})),a.d(n,"c",(function(){return r})),a.d(n,"e",(function(){return i})),a.d(n,"a",(function(){return c})),a.d(n,"d",(function(){return d})),a.d(n,"b",(function(){return l}));var e=a("db04"),o=function(t,n){return e["a"].post("cmw/pbqss.do",t,n)},s=function(t,n){return e["a"].post("cmw/pbqsb.do",t,n)},r=function(t,n){return e["a"].post("cmw/pbqml.do",t,n)},i=function(t,n){return e["a"].post("cmw/pbqrm.do",t,n)},c=function(t,n){return e["a"].post("cmw/pbqan.do",t,n)},d=function(t,n){return e["a"].post("cmw/pbqrc.do",t,n)},l=function(t,n){return e["a"].post("cmw/pbqci.do",t,n)}},a434:function(t,n,a){"use strict";var e=a("23e7"),o=a("23cb"),s=a("a691"),r=a("50c4"),i=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=a("ae40"),f=l("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,n){var a,e,l,u,f,m,v=i(this),w=r(v.length),x=o(t,w),y=arguments.length;if(0===y?a=e=0:1===y?(a=0,e=w-x):(a=y-2,e=b(p(s(n),0),w-x)),w+a-e>h)throw TypeError(g);for(l=c(v,e),u=0;u<e;u++)f=x+u,f in v&&d(l,u,v[f]);if(l.length=e,a<e){for(u=x;u<w-e;u++)f=u+e,m=u+a,f in v?v[m]=v[f]:delete v[m];for(u=w;u>w-e+a;u--)delete v[u-1]}else if(a>e)for(u=w-e;u>x;u--)f=u+e-1,m=u+a-1,f in v?v[m]=v[f]:delete v[m];for(u=0;u<a;u++)v[u+x]=arguments[u+2];return v.length=w-e+a,l}})},c043:function(t,n,a){},d81d:function(t,n,a){"use strict";var e=a("23e7"),o=a("b727").map,s=a("1dde"),r=a("ae40"),i=s("map"),c=r("map");e({target:"Array",proto:!0,forced:!i||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},f96b:function(t,n,a){"use strict";a.d(n,"c",(function(){return o})),a.d(n,"a",(function(){return s})),a.d(n,"b",(function(){return r}));var e=a("db04"),o=function(t,n){return e["a"].post("cmw/pbrus.do",t,n)},s=function(t,n){return e["a"].post("bs/pbgen.do",t,n)},r=function(t,n){return e["a"].post("bs/pbgts.do",t,n)}}}]);
//# sourceMappingURL=chunk-6fccd511.fdfb24a3.js.map