(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4025186e"],{"933a":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("data-header",{attrs:{title:"数据存管域节点准入许可管理",btn:!0}}),e("div",{staticClass:"padding bg-white"},[e("div",{staticStyle:{"margin-bottom":"10px",color:"#273D52"}},[e("span",{staticStyle:{color:"#273D52","font-weight":"600"}},[t._v("准入节点服务器列表")]),e("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.confirmAdd}},[t._v("添加")]),e("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"功效说明：在“节点网络准入审批”选择“开启”时，准入节点服务器列表中的节点服务器才可以加入链的节点网络。"}},[e("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),e("Row",[e("Col",{attrs:{span:"5"}},[e("div",{staticClass:"condition-item"},[e("span",{staticClass:"condition-label"},[t._v("隶属企业名称：")]),e("Input",{attrs:{type:"text",placeholder:"隶属企业名称"},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}})],1)]),e("Col",{attrs:{span:"7"}},[e("div",{staticClass:"condition-item"},[e("span",{staticClass:"condition-label"},[t._v("服务器身份标识：")]),e("Input",{attrs:{type:"text",placeholder:"节点服务器身份标识"},model:{value:t.form.address,callback:function(n){t.$set(t.form,"address",n)},expression:"form.address"}})],1)]),e("Col",{attrs:{span:"6"}},[e("div",{staticClass:"condition-item"},[e("Button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1)])],1),e("div",[e("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),e("div",{staticClass:"page"},[e("div",{staticClass:"page-inner"},[e("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])],1)],1)},s=[],o=(e("fb6a"),e("96cf"),e("1da1")),i=e("9aa7"),a=e("f96b"),c={data:function(){var t=this,n=[{title:"隶属企业名称",key:"main_company_company_name"},{title:"服务器身份标识",key:"node_server_id"},{title:"节点类型",key:"node_type"},{title:"添加时间",key:"join_time",render:function(n,e){var r=e.row;return r.join_time?n("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):n("span","--")}},{title:"操作",render:function(n,e){var r=e.row||{},s="删除";return n("a",{on:{click:function(){t.remove(r)}}},s)}}];return{myswitch:"1",listLoading:!1,columns:n,oldList:[],list:[],page:{total:1,current:1,size:10},form:{name:"",address:"",status:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0;var n=sessionStorage.getItem("fbs_storage_id");i["a"]({storage_id:n,address:sessionStorage.getItem("fbs_address")}).then((function(n){t.listLoading=!1,t.oldList=n.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(n){t.listLoading=!1,t.$Message.error(n.retMsg)}))},search:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},remove:function(t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),domainId:sessionStorage.getItem("fbs_storage_id"),nodeAddress:t.chainnode_id,nodeInfo:{nodeName:"",orgName:"",orgAddress:"",dSName:""},url:"",amount:"1",op:2},e.next=3,a["a"]({method:"DSDomainDSNodeApplyContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return n.$Message.error(t.retMsg),!1}));case 3:s=e.sent,s&&n.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return a["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 3===t.status&&(n.$Message.success("删除成功"),n.init(),!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.page.current=t,this.getList()},confirmAdd:function(){this.$router.push("/data-nodeAddAdmin")}}},d=c,u=e("2877"),l=Object(u["a"])(d,r,s,!1,null,"d5bf40d8",null);n["default"]=l.exports},"9aa7":function(t,n,e){"use strict";e.d(n,"g",(function(){return s})),e.d(n,"f",(function(){return o})),e.d(n,"c",(function(){return i})),e.d(n,"e",(function(){return a})),e.d(n,"a",(function(){return c})),e.d(n,"d",(function(){return d})),e.d(n,"b",(function(){return u}));var r=e("db04"),s=function(t,n){return r["a"].post("cmw/pbqss.do",t,n)},o=function(t,n){return r["a"].post("cmw/pbqsb.do",t,n)},i=function(t,n){return r["a"].post("cmw/pbqml.do",t,n)},a=function(t,n){return r["a"].post("cmw/pbqrm.do",t,n)},c=function(t,n){return r["a"].post("cmw/pbqan.do",t,n)},d=function(t,n){return r["a"].post("cmw/pbqrc.do",t,n)},u=function(t,n){return r["a"].post("cmw/pbqci.do",t,n)}},f96b:function(t,n,e){"use strict";e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return i}));var r=e("db04"),s=function(t,n){return r["a"].post("cmw/pbrus.do",t,n)},o=function(t,n){return r["a"].post("bs/pbgen.do",t,n)},i=function(t,n){return r["a"].post("bs/pbgts.do",t,n)}},fb6a:function(t,n,e){"use strict";var r=e("23e7"),s=e("861d"),o=e("e8b5"),i=e("23cb"),a=e("50c4"),c=e("fc6a"),d=e("8418"),u=e("b622"),l=e("1dde"),p=e("ae40"),f=l("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),g=u("species"),h=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!f||!m},{slice:function(t,n){var e,r,u,l=c(this),p=a(l.length),f=i(t,p),m=i(void 0===n?p:n,p);if(o(l)&&(e=l.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?s(e)&&(e=e[g],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return h.call(l,f,m);for(r=new(void 0===e?Array:e)(b(m-f,0)),u=0;f<m;f++,u++)f in l&&d(r,u,l[f]);return r.length=u,r}})}}]);
//# sourceMappingURL=chunk-4025186e.3ea6bf46.js.map