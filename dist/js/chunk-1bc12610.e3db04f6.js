(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc12610"],{"6e8a":function(t,a,e){"use strict";var n=e("d61b"),s=e.n(n);s.a},"7d09":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"alliance"},[e("div",{staticClass:"nodeback",staticStyle:{cursor:"pointer","margin-bottom":"10px"},on:{click:t.back}},[t._v("< 退出")]),e("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[e("span",[t._v("基本信息")]),e("div",[e("Row",[e("Col",{attrs:{span:"12"}},[e("div",{staticClass:"condition-item"},[e("span",{staticClass:"condition-label"},[t._v("数据存管域名称：")]),e("Input",{attrs:{type:"text",placeholder:"请输入全链唯一的数据存管域名称"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1)])],1)],1)]),e("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"20px"}},[t._m(0),e("RadioGroup",{staticClass:"approval",model:{value:t.rule,callback:function(a){t.rule=a},expression:"rule"}},[e("Row",[e("Col",{attrs:{span:"6"}},[e("Radio",{attrs:{label:"0"}},[t._v("任意一个联盟委员签批")])],1),e("Col",{attrs:{span:"6"}},[e("Radio",{attrs:{label:"100"}},[t._v("1/3联盟委员同时签批")])],1),e("Col",{attrs:{span:"6"}},[e("Radio",{attrs:{label:"200"}},[t._v("2/3联盟委员同时签批")])],1),e("Col",{attrs:{span:"6"}},[e("Radio",{attrs:{label:"300"}},[t._v("所有联盟委员同时签批")])],1)],1)],1)],1),e("div",{staticClass:"bg-white padding"},[e("div",{staticClass:"league-mem"},[e("span",[t._v("数据存管域管理列表")]),e("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1),e("Table",{attrs:{columns:t.columns1,data:t.data1}}),e("div",{staticClass:"set-from-item",staticStyle:{"margin-top":"20px","text-align":"center"}},[e("Button",{attrs:{size:"large",type:"primary",loading:t.loading},on:{click:t.next}},[t._v("下一步")])],1)],1),e("Modal",{attrs:{title:"添加联盟委员会成员",loading:t.submitLoading},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.addModal,callback:function(a){t.addModal=a},expression:"addModal"}},[e("div",{staticClass:"add-modal-body"},[e("div",[e("Input",{attrs:{placeholder:"请输入委员名称"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("div",[e("Input",{attrs:{placeholder:"请输入委员身份标志地址"},model:{value:t.form.address,callback:function(a){t.$set(t.form,"address",a)},expression:"form.address"}})],1)])])],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[e("span",[t._v("数据存管域管理员决议审批规则：")])])}],o=(e("d81d"),e("b0c0"),e("96cf"),e("1da1")),r=e("5530"),i=e("f96b"),d={data:function(){var t=this,a=[{title:"管理员名称",key:"name"},{title:"管理员身份标识",key:"address"},{title:"操作",render:function(a,e){var n=e.row;return a("a",{on:{click:function(){t.del(n)}}},"删除")}}];return{rule:"0",name:"",address:"",submitLoading:!0,addModal:!1,columns1:a,data1:[],total:100,loading:!1,form:{name:"",address:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{add:function(){this.addModal=!0},init:function(){},ok:function(){var t=this;setTimeout((function(){t.submitLoading=!1,t.$nextTick((function(){t.submitLoading=!0}))}),100),console.log(this.form),""===this.form.name||""===this.form.address?this.$Message.warning("请先完成表单！"):(this.data1.push(Object(r["a"])({},this.form)),this.form.name="",this.form.address="",this.addModal=!1)},cancel:function(){},back:function(){window.history.go(-1)},next:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e={from:sessionStorage.getItem("fbs_address"),orgAddress:"",orgName:"",name:t.name,members:t.data1.map((function(t){return t.address})),amount:"1",rule:t.rule},a.next=3,i["a"]({method:"DSDomainApplyContractTxReq",jsBody:JSON.stringify(e)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(a){return t.$Message.error(a.retMsg),!1}));case 3:n=a.sent,n&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:n,setIntervalFunc:function(){return i["b"]({txId:n.txId})},func:"send_trans"},(function(a){return a.then((function(a){return 4===a.status||5===a.status||6===a.status?(t.$Message.error(a.remark),!0):3===a.status&&(t.$Message.success("添加成功"),t.$router.go(-1),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return a.stop()}}),a)})))()},pageChange:function(t){console.log(t)}}},c=d,l=(e("6e8a"),e("2877")),u=Object(l["a"])(c,n,s,!1,null,"c40dd454",null);a["default"]=u.exports},d61b:function(t,a,e){},d81d:function(t,a,e){"use strict";var n=e("23e7"),s=e("b727").map,o=e("1dde"),r=e("ae40"),i=o("map"),d=r("map");n({target:"Array",proto:!0,forced:!i||!d},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-1bc12610.e3db04f6.js.map