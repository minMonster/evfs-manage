(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26cb2b2d"],{"1a78":function(t,e,n){},"2adf":function(t,e,n){},3335:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"audit"},[n("div",{staticClass:"audit-inner"},[n("h2",{staticClass:"audit-title clear"},[t._v(" 待审核事项 ")]),n("div",{staticClass:"tab-wrapper"},t._l(t.tabs,(function(e,r){return n("div",{key:r,staticClass:"tab-item",class:{active:t.active===r},on:{click:function(e){return t.changeTab(r)}}},[n("Badge",{attrs:{dot:e.num>0}},[n("button",[t._v(t._s(e.name))])])],1)})),0),n("div",{staticClass:"split-line"}),n("div",{staticClass:"audit-content"},[t.active?n(t.tabs[t.active].nodeName,{tag:"component",attrs:{"review-type":t.active}}):t._e()],1)])])},s=[],a=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alliance"},[n("div",[t.rule?n("div",{staticClass:"padding bg-white",staticStyle:{"margin-bottom":"20px"}},[n("div",{staticStyle:{"margin-bottom":"20px",color:"#273D52"}},[n("span",[t._v("联盟委员决议审批规则：")]),n("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"选项说明:所有需要联盟委员审批的事务，通过决议的签批规则。* “任意一个联盟委员签批”：联盟委员会成员列表中的任何一个成员签批同意，相应的决议即可通过。* “1/3联盟委员同时签批”：只有联盟委员会成员列表中的任意1/3个成员签批同意，相应的决议方可通过。* “2/3联盟委员同时签批”：只有联盟委员会成员列表中的任意2/3个成员签批同意，相应的决议方可通过。* “所有联盟委员同时签批”： 只有联盟委员会成员列表中的所有成员签批同意，相应的决议方可通过。"}},[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),n("RadioGroup",{staticClass:"approval",model:{value:t.rule,callback:function(e){t.rule=e},expression:"rule"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"0"}},[t._v("任意一个联盟委员签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"100"}},[t._v("1/3联盟委员同时签批")])],1)],1),n("Row",[n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"200"}},[t._v("2/3联盟委员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"300"}},[t._v("所有联盟委员同时签批")])],1)],1)],1),t.old_rule?n("div",{staticClass:"audit-item"},[n("div",{staticClass:"audit-item-content"},[n("P",[t._v("变更前：")]),n("div",[t._v("联盟委员决议审批规则："+t._s(t.ruleJson[t.old_rule]))]),n("div",[t._v("申请人： "+t._s(t.applicant_name)),t._m(0)])],1),n("div",{staticClass:"audit-item-btns"},[n("div",{staticClass:"btn-inner"},[n("button",{staticClass:"refuse-btn",on:{click:t.refuseRule}},[t._v("拒绝")]),n("button",{staticClass:"agree-btn",on:{click:t.agreeRule}},[t._v("同意")])])])]):t._e()],1):t._e(),n("div",{staticClass:"padding bg-white"},[n("div",[t._m(1),n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])])}),i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v("审核通过人： "),n("a",{attrs:{href:"javascript:;"}},[t._v("查看")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"league-mem"},[n("span",[t._v("联盟委员会成员操作明细：")])])}],o=(n("fb6a"),n("b0c0"),n("96cf"),n("1da1")),c=n("5138"),u=n("f96b"),d={data:function(){var t=this,e=[{title:"委员名称",key:"name"},{title:"委员身份标志地址",key:"address"},{title:"添加时间",key:"join_time",render:function(e,n){var r=n.row;return r.join_time?e("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"状态",key:"status",render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name"},{title:"审核通过人",render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}}],n={0:"任意一个联盟委员签批",100:"1/3联盟委员同时签批",200:"2/3联盟委员同时签批",300:"所有联盟委员同时签批"};return{ruleJson:n,rule:"",old_rule:"",review_rule:"",applicant_name:"",listLoading:!1,columns:e,oldList:[],list:[],page:{total:1,current:1,size:10},form:{name:"",address:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;c["j"]({reviewType:"chain_committee_rule",menu:"chaincommittee",address:sessionStorage.getItem("fbs_address")}).then((function(e){if(e.rows){var n=e.rows[0];t.rule=n.rule||"",t.review_rule=n.review_id,t.old_rule=n.old_rule||""}else t.rule=!1})),this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_manager",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},queryApproved:function(t){this.$QueryApprovedDialog.show(t)},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"CommitteeMemberAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"CommitteeDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},agreeRule:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),reqId:t.review_rule},e.next=3,u["a"]({method:"CommitteeRuleAgreeContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(e){return t.$Message.error(e.retMsg),!1}));case 3:r=e.sent,r&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:r,setIntervalFunc:function(){return u["b"]({txId:r.txId})},func:"send_trans"},(function(e){return e.then((function(e){return 4===e.status||5===e.status||6===e.status?(t.$Message.error(e.remark),!0):3===e.status&&(t.$Message.success("修改成功"),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},refuseRule:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),reqId:t.review_rule},e.next=3,u["a"]({method:"CommitteeDisagreeContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(e){return t.$Message.error(e.retMsg),!1}));case 3:r=e.sent,r&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:r,setIntervalFunc:function(){return u["b"]({txId:r.txId})},func:"send_trans"},(function(e){return e.then((function(e){return 4===e.status||5===e.status||6===e.status?(t.$Message.error(e.remark),!0):3===e.status&&(t.$Message.success("修改成功"),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},adds:function(t){this.$Modal.confirm({title:"已审核人列表",content:"name："+t.name+"<br> address："+t.address+" <br>time："+t.time,oktext:"关闭"})},ok:function(){},cancel:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},l=d,h=(n("9fb4"),n("2877")),g=Object(h["a"])(l,a,i,!1,null,"52ac632f",null),f=g.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chain-configure"},[n("h2",{staticClass:"content-title clear"},[t._v("节点网络准入许可管理")]),n("div",{staticClass:"split-line"}),n("div",{staticClass:"encryption-wrapper padding bg-white",staticStyle:{"margin-bottom":"20px"}},[n("div",[t._m(0),n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"league-mem"},[n("span",[t._v("准入节点服务器列表：")])])}],v={data:function(){var t=this,e=[{title:"隶属企业名称",key:"name"},{title:"服务器身份标识",key:"address"},{title:"节点类型",key:"node_type"},{title:"数据存管域名称",key:"storage_name"},{title:"添加时间",key:"join_time",render:function(e,n){var r=n.row;return r.join_time?e("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"状态",key:"user_status"},{title:"申请人",key:"applicant_name"},{title:"已审核人",key:"name"},{title:"操作",key:"name"},{title:"审核结果",key:"user_status",width:100,render:function(t,e){var n=e.row,r="--";switch(n.user_status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}}];return{columns:e,listLoading:!1,oldList:[],list:[],page:{total:1,current:1,size:10}}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_node",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},b=v,_=(n("5442"),Object(h["a"])(b,m,p,!1,null,"02c3a38f",null)),x=_.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chain-configure"},[n("h2",{staticClass:"content-title clear"},[t._v("节点网络准入许可管理")]),n("div",{staticClass:"split-line"}),n("div",{staticClass:"encryption-wrapper padding bg-white",staticStyle:{"margin-bottom":"20px"}},[n("div",{staticStyle:{overflow:"auto"}},[t._m(0),n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])},y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-bottom":"20px",color:"#273D52"}},[n("span",[t._v(" 准入节点服务器列表： ")])])}],k={data:function(){var t=this,e=[{title:"隶属企业名称",key:"name",width:150},{title:"服务器身份标识",key:"address",width:150},{title:"节点类型",key:"node_type",width:100},{title:"数据存管域名称",key:"storage_name",width:100},{title:"添加时间",key:"join_time",width:200,render:function(e,n){var r=n.row;return r.join_time?e("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"状态",key:"status",width:100,render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name",width:100},{title:"审核通过人",width:100,render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",width:120,render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}},{title:"审核结果",key:"user_status",width:100,render:function(t,e){var n=e.row,r="--";switch(n.user_status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}}];return{columns:e,listLoading:!1,oldList:[],list:[],page:{total:1,current:1,size:10}}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_node",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"ChainNodeAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},pageChange:function(t){this.page.current=t,this.getList()}}},C=k,I=(n("e039"),Object(h["a"])(C,w,y,!1,null,"78262ea6",null)),M=I.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"node-admission"},[t._m(0),n("div",{staticClass:"padding bg-white mb20"},[n("div",{staticStyle:{"margin-bottom":"20px",color:"#273D52"}},[t._m(1),n("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"功效说明：在“匿名调用访问”选择“允许”时，禁止特定的前置节点与链建立访问通道，被禁止的前置节点无法向链上提交或访问链上数据。"}},[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),n("div",[n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])},L=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",{staticClass:"content-title clear"},[n("span",[t._v("前置节点访问许可管理")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(" 前置节点调用访问 "),n("b",[t._v("【黑名单】")]),t._v("： ")])}],j={data:function(){var t=this,e=[{title:"隶属企业名称",key:"name"},{title:"前置节点身份标识",key:"address"},{title:"添加时间",key:"join_time",render:function(e,n){var r=n.row;return r.join_time?e("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"状态",key:"status",render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name"},{title:"审核通过人",render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}}];return{acceptLimit:"1/3",name:"",address:"",addModal:!1,columns:e,listLoading:!1,oldList:[],list:[],page:{total:1,current:1,size:10},form:{name:"",address:""},switch1:"0"}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_httpclient",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},ok:function(){},adds:function(t){this.$Modal.confirm({title:"已审核人列表",content:"name："+t.name+"<br> address："+t.address+" <br>time："+t.time,oktext:"关闭"})},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"ChainNodeAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},cancel:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},R=j,T=(n("eda8"),Object(h["a"])(R,$,L,!1,null,"098d9e10",null)),q=T.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"node-admission"},[n("h2",{staticClass:"content-title clear"},[t._v(" 运行证许可管理 ")]),n("div",{staticClass:"padding bg-white mb20"},[t._m(0),n("div",{staticClass:"info-item"},[n("Row",[n("Col",{attrs:{span:"8"}},[t._v(" 文件存储最大许可容量："),n("span",[t._v("100TB")])]),n("Col",{attrs:{span:"8"}},[t._v(" 已发放文件存储许可容量："),n("span",[t._v("50TB")])]),n("Col",{attrs:{span:"8"}},[t._v(" 未发文件存储许可容量："),n("span",[t._v("50TB")])])],1)],1)]),n("div",{staticClass:"padding bg-white mb20"},[t._m(1),n("div",[n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-bottom":"10px",color:"#273D52"}},[n("b",[t._v("链内文件存储容量许可信息")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-title"},[n("span",[t._v("运行许可证分布信息")])])}],B={data:function(){var t=this,e=[{title:"数据存管域名称",key:"name"},{title:"数据存管域唯一标识",key:"address"},{title:"现有许可存储容量",key:"capacity_license"},{title:"申请新增存储容量",key:"applay_capacity_license"},{title:"状态",key:"status",render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name"},{title:"审核通过人",render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}}];return{addModal:!1,columns:e,listLoading:!1,list:[],oldList:[],page:{total:1,current:1,size:10},form:{name:"",address:""},switch1:"0"}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_license",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"ChainNodeAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},ok:function(){},adds:function(t){this.$Modal.confirm({title:"已审核人列表",content:"name："+t.name+"<br> address："+t.address,oktext:"关闭"})},cancel:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},D=B,A=(n("a8c1"),Object(h["a"])(D,z,S,!1,null,"6e157a03",null)),O=A.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"node-admission"},[n("h2",{staticClass:"content-title clear"},[t._v(" 数据存管域内业务域授权管理 ")]),n("div",{staticClass:"padding bg-white mb20"},[t._m(0),n("div",[n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])},J=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-bottom":"0px",color:"#273D52"}},[n("b",[t._v("数据存管域列表")])])}],P={data:function(){var t=this,e=[{title:"数据存管域名称",key:"name"},{title:"数据存管域唯一标识",key:"address"},{title:"添加时间",key:"join_time",render:function(e,n){var r=n.row;return r.join_time?e("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"状态",key:"status",render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name"},{title:"审核通过人",render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}}];return{columns:e,listLoading:!1,list:[],oldList:[],page:{total:1,current:1,size:10},form:{name:"",address:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_storage",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"DSDomainAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},adds:function(t){this.$Modal.confirm({title:"已审核人列表",content:"name："+t.name+"<br> address："+t.address+" <br>time："+t.time,oktext:"关闭"})},ok:function(){},cancel:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},Y=P,E=(n("ee54"),Object(h["a"])(Y,N,J,!1,null,"aca1b586",null)),F=E.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"node-admission"},[n("h2",{staticClass:"content-title clear"},[t._v(" 链内主节点授权管理 ")]),n("div",{staticClass:"padding bg-white mb20"},[t._m(0),n("div",[n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}})],1),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])])])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-bottom":"0px",color:"#273D52"}},[n("b",[t._v("主节点服务器列表")])])}],G={data:function(){var t=this,e=[{title:"隶属企业名称",key:"name"},{title:"服务器身份标识",key:"address"},{title:"节点类型",key:"node_type"},{title:"数据存管域名称",key:"storage_name"},{title:"创建时间",key:"join_time"},{title:"状态",key:"status",render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name"},{title:"审核通过人",render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}}];return{listLoading:!1,columns:e,oldList:[],list:[],page:{total:1,current:1,size:10},form:{name:"",address:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;this.listLoading=!0,c["j"]({menu:"chaincommittee",reviewType:"chain_mainnode",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},adds:function(t){this.$Modal.confirm({title:"已审核人列表",content:"name："+t.name+"<br> address："+t.address+" <br>time："+t.time,oktext:"关闭"})},ok:function(){},cancel:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"ChainNodeAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},K=G,U=(n("cff3"),Object(h["a"])(K,H,Q,!1,null,"719e5e96",null)),V=U.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alliance"},[n("h2",{staticClass:"content-title clear"},[t._v(" 链管理员管理 ")]),n("div",[t.rule?n("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"20px"}},[n("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[n("span",[t._v("链管理员决议审批规则：")]),n("Tooltip",{attrs:{placement:"top","max-width":"600",transfer:"",content:"选项说明:所有需要链管理委员审批的事务，通过决议的签批规则。* “任意一个联盟委员签批”：联盟委员会成员列表中的任何一个成员签批同意，相应的决议即可通过。* “1/3联盟委员同时签批”：只有联盟委员会成员列表中的任意1/3个成员签批同意，相应的决议方可通过。* “2/3联盟委员同时签批”：只有联盟委员会成员列表中的任意2/3个成员签批同意，相应的决议方可通过。* “所有联盟委员同时签批”： 只有联盟委员会成员列表中的所有成员签批同意，相应的决议方可通过。"}},[n("Icon",{attrs:{type:"ios-help-circle-outline"}})],1)],1),n("RadioGroup",{staticClass:"approval",model:{value:t.rule,callback:function(e){t.rule=e},expression:"rule"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:0}},[t._v("任意一个联盟委员签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:100}},[t._v("1/3联盟委员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:200}},[t._v("2/3联盟委员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:300}},[t._v("所有联盟委员同时签批")])],1)],1)],1),n("div",{staticClass:"audit-item"},[n("div",{staticClass:"audit-item-content"},[n("P",[t._v("变更前：")]),n("div",[t._v("联盟委员决议审批规则："+t._s(t.ruleJson[t.old_rule]))]),n("div",[t._v("申请人： "+t._s(t.applicant_name)),n("span",[t._v("审核通过人： "),n("a",{attrs:{a:""},on:{click:t.showRule}},[t._v("查看")])])])],1),n("div",{staticClass:"audit-item-btns"},[n("div",{staticClass:"btn-inner"},[n("button",{staticClass:"refuse-btn",on:{click:t.refuseRule}},[t._v("拒绝")]),n("button",{staticClass:"agree-btn",on:{click:t.agreeRule}},[t._v("同意")])])])])],1):t._e(),n("div",{staticClass:"bg-white padding"},[t._m(0),n("Table",{attrs:{columns:t.columns,loading:t.listLoading,data:t.list}}),n("div",{staticClass:"page"},[n("div",{staticClass:"page-inner"},[n("Page",{attrs:{"show-sizer":"",total:t.page.total,current:t.page.current},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)])],1),n("Modal",{attrs:{title:"添加管理"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[n("div",{staticClass:"add-modal-body"},[n("div",[n("Input",{attrs:{placeholder:"请输入管理员名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("div",[n("Input",{attrs:{placeholder:"请输入管理员身份标志地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)])])],1)])},X=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"league-mem"},[n("span",[t._v("链管理员列表")])])}],Z={data:function(){var t=this,e=[{title:"管理员名称",key:"name"},{title:"管理员身份标志地址",key:"address"},{title:"添加时间",key:"time",render:function(e,n){var r=n.row;return r.join_time?e("span",t.$moment.unix(r.join_time/1e3).format("YYYY-MM-DD HH:mm:ss")):e("span","--")}},{title:"状态",key:"status",render:function(t,e){var n=e.row,r="--";switch(n.status){case"1":r="待审批";break;case"2":r="已同意";break;case"3":r="审核拒绝";break}return t("span",r)}},{title:"申请人",key:"applicant_name"},{title:"审核通过人",render:function(e,n){var r=n.row;return e("a",{on:{click:function(){t.$QueryApprovedDialog.show(r)}}},"查看")}},{title:"操作",render:function(e,n){var r=n.row;if("1"!==r.status)return e("span","--");var s=e("a",{style:{marginRight:"8px"},domProps:{href:"javascript:;"},on:{click:function(){t.agree(r)}}},"同意"),a=e("a",{domProps:{href:"javascript:;"},on:{click:function(){t.refuse(r)}}},"拒绝");return e("div",{class:"opt-btns"},[s,a])}}],n={0:"任意一个联盟委员签批",100:"1/3联盟委员同时签批",200:"2/3联盟委员同时签批",300:"所有联盟委员同时签批"};return{addModal:!1,ruleJson:n,rule:"",old_rule:"",applicant_name:"",listLoading:!1,columns:e,oldList:[],review_rule:"",list:[],page:{total:1,current:1,size:10},form:{name:"",address:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{showRule:function(){var t={review_id:this.review_rule};this.$QueryApprovedDialog.show(t)},init:function(){var t=this;c["j"]({reviewType:"chain_manager_rule",menu:"chaingroup",address:sessionStorage.getItem("fbs_address")}).then((function(e){if(e.rows){var n=e.rows[0];t.rule=n.rule||"",t.old_rule=n.old_rule||"",t.review_rule=n.review_id}else t.rule=!1})),this.listLoading=!0,c["j"]({menu:"chaingroup",reviewType:"chain_manager",address:sessionStorage.getItem("fbs_address")}).then((function(e){t.listLoading=!1,t.oldList=e.rows,t.page.total=t.oldList.length,t.getList()})).catch((function(e){t.listLoading=!1,t.$Message.error(e.retMsg)}))},adds:function(t){this.$Modal.confirm({title:"已审核人列表",content:"name："+t.name+"<br> address："+t.address+" <br>time："+t.time,oktext:"关闭"})},agree:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"ChainNodeAgreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},refuse:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r={from:sessionStorage.getItem("fbs_address"),reqId:t.review_id},n.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(r)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(t){return e.$Message.error(t.retMsg),!1}));case 3:s=n.sent,s&&e.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:s,setIntervalFunc:function(){return u["b"]({txId:s.txId})},func:"send_trans"},(function(t){return t.then((function(t){return 4===t.status||5===t.status||6===t.status?(e.$Message.error(t.remark),!0):3===t.status&&(e.$Message.success("修改成功"),e.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return n.stop()}}),n)})))()},agreeRule:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),reqId:t.review_rule},e.next=3,u["a"]({method:"AdminRuleAgreeContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(e){return t.$Message.error(e.retMsg),!1}));case 3:r=e.sent,r&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:r,setIntervalFunc:function(){return u["b"]({txId:r.txId})},func:"send_trans"},(function(e){return e.then((function(e){return 4===e.status||5===e.status||6===e.status?(t.$Message.error(e.remark),!0):3===e.status&&(t.$Message.success("修改成功"),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},refuseRule:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),reqId:t.review_rule},e.next=3,u["a"]({method:"AdminDisagreeContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(e){return t.$Message.error(e.retMsg),!1}));case 3:r=e.sent,r&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:r,setIntervalFunc:function(){return u["b"]({txId:r.txId})},func:"send_trans"},(function(e){return e.then((function(e){return 4===e.status||5===e.status||6===e.status?(t.$Message.error(e.remark),!0):3===e.status&&(t.$Message.success("修改成功"),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return e.stop()}}),e)})))()},ok:function(){},cancel:function(){},getList:function(){this.list=this.oldList.slice((this.page.current-1)*this.page.size,this.page.size*this.page.current)},sizeChange:function(t){this.page.current=1,this.page.size=t,this.getList()},pageChange:function(t){this.page.current=t,this.getList()}}},tt=Z,et=(n("4970"),Object(h["a"])(tt,W,X,!1,null,"4006cf1f",null)),nt=et.exports,rt={components:{alliance:f,configure:x,nodeadmission:M,frontnodelicence:q,chainadmin:nt,operation:O,dataauth:F,mainnode:V},data:function(){return{tabs:{chain_committee:{name:"联盟委员会",num:0,nodeName:"alliance"},chain_node:{name:"节点准入",num:0,nodeName:"nodeadmission"},chain_httpclient:{name:"前置节点准入",num:0,nodeName:"frontnodelicence"},chain_license:{name:"运行许可证",num:0,nodeName:"operation"},chain_storage:{name:"数据存管域授权",num:0,nodeName:"dataauth"},chain_mainnode:{name:"主节点授权",num:0,nodeName:"mainnode"},chain_manager:{name:"链管理员",num:0,nodeName:"chainadmin"}},active:""}},mounted:function(){this.init();var t=this.$route.query,e={"chain-alliance":"chain_committee","chain-nodeadmission":"chain_node","chain-frontnodelicence":"chain_httpclient","chain-operation":"chain_license",dataauth:"chain_storage",mainnode:"chain_mainnode",chainmanager:"chain_manager"};e[t.tab]?this.active=e[t.tab]:this.active="chain_committee"},methods:{init:function(){var t=this;c["k"]({menu:"chaingroup",address:sessionStorage.getItem("fbs_address")}).then((function(e){e.rows&&e.rows.forEach((function(e){for(var n in t.tabs)n===e.review_type&&(t.tabs[n].num=e.num,console.log(n))}))})),this.initTab()},initTab:function(){},changeTab:function(t){this.active=t}}},st=rt,at=(n("8e2a"),Object(h["a"])(st,r,s,!1,null,"363d169a",null));e["default"]=at.exports},"39fe":function(t,e,n){},"417d":function(t,e,n){},4970:function(t,e,n){"use strict";var r=n("2adf"),s=n.n(r);s.a},5138:function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"i",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"l",(function(){return g})),n.d(e,"k",(function(){return f})),n.d(e,"j",(function(){return m})),n.d(e,"b",(function(){return p}));var r=n("db04"),s=function(t,e){return r["a"].post("cmw/pbqct.do",t,e)},a=function(t,e){return r["a"].post("cmw/pbqgi.do",t,e)},i=function(t,e){return r["a"].post("cmw/pbqml.do",t,e)},o=function(t,e){return r["a"].post("cmw/pbqan.do",t,e)},c=function(t,e){return r["a"].post("cmw/pbqcn.do",t,e)},u=function(t,e){return r["a"].post("cmw/pbqfc.do",t,e)},d=function(t,e){return r["a"].post("cmw/pbqll.do",t,e)},l=function(t,e){return r["a"].post("cmw/pbqmn.do",t,e)},h=function(t,e){return r["a"].post("cmw/pbqsl.do",t,e)},g=function(t,e){return r["a"].post("cmw/pbqsd.do",t,e)},f=function(t,e){return r["a"].post("cmw/pbqrm.do",t,e)},m=function(t,e){return r["a"].post("cmw/pbqrc.do",t,e)},p=function(t,e){return r["a"].post("cmw/pbqci.do",t,e)}},5442:function(t,e,n){"use strict";var r=n("417d"),s=n.n(r);s.a},"616a":function(t,e,n){},"8e2a":function(t,e,n){"use strict";var r=n("f14f"),s=n.n(r);s.a},"9f59":function(t,e,n){},"9fb4":function(t,e,n){"use strict";var r=n("1a78"),s=n.n(r);s.a},a8c1:function(t,e,n){"use strict";var r=n("9f59"),s=n.n(r);s.a},bf5d:function(t,e,n){},cff3:function(t,e,n){"use strict";var r=n("616a"),s=n.n(r);s.a},e039:function(t,e,n){"use strict";var r=n("39fe"),s=n.n(r);s.a},eda8:function(t,e,n){"use strict";var r=n("bf5d"),s=n.n(r);s.a},ee54:function(t,e,n){"use strict";var r=n("ef19"),s=n.n(r);s.a},ef19:function(t,e,n){},f14f:function(t,e,n){},fb6a:function(t,e,n){"use strict";var r=n("23e7"),s=n("861d"),a=n("e8b5"),i=n("23cb"),o=n("50c4"),c=n("fc6a"),u=n("8418"),d=n("b622"),l=n("1dde"),h=n("ae40"),g=l("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),m=d("species"),p=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!g||!f},{slice:function(t,e){var n,r,d,l=c(this),h=o(l.length),g=i(t,h),f=i(void 0===e?h:e,h);if(a(l)&&(n=l.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?s(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(l,g,f);for(r=new(void 0===n?Array:n)(v(f-g,0)),d=0;g<f;g++,d++)g in l&&u(r,d,l[g]);return r.length=d,r}})}}]);
//# sourceMappingURL=chunk-26cb2b2d.ac621f19.js.map