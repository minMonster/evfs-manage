(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-892320d4"],{"6e8a":function(t,a,n){"use strict";var e=n("d61b"),o=n.n(e);o.a},"7d09":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"alliance"},[n("div",{staticClass:"nodeback",staticStyle:{cursor:"pointer","margin-bottom":"10px"},on:{click:t.back}},[t._v("< 退出")]),n("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[n("span",[t._v("基本信息")]),n("div",[n("Row",[n("Col",{attrs:{span:"12"}},[n("div",{staticClass:"condition-item"},[n("span",{staticClass:"condition-label"},[t._v("数据存管域名称：")]),n("Input",{attrs:{type:"text",placeholder:"请输入全链唯一的数据存管域名称"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1)])],1)],1)]),n("div",{staticClass:"bg-white padding",staticStyle:{"margin-bottom":"20px"}},[t._m(0),n("RadioGroup",{staticClass:"approval",model:{value:t.rule,callback:function(a){t.rule=a},expression:"rule"}},[n("Row",[n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"0"}},[t._v("任意一个联盟委员签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"100"}},[t._v("1/3联盟委员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"200"}},[t._v("2/3联盟委员同时签批")])],1),n("Col",{attrs:{span:"6"}},[n("Radio",{attrs:{label:"300"}},[t._v("所有联盟委员同时签批")])],1)],1)],1)],1),n("div",{staticClass:"bg-white padding"},[n("div",{staticClass:"league-mem"},[n("span",[t._v("数据存管域管理列表")]),n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1),n("Table",{attrs:{columns:t.columns1,data:t.data1}}),n("div",{staticClass:"set-from-item",staticStyle:{"margin-top":"20px","text-align":"center"}},[n("Button",{attrs:{size:"large",type:"primary",loading:t.loading},on:{click:t.next}},[t._v("下一步")])],1)],1),n("Modal",{attrs:{title:"添加联盟委员会成员",loading:t.submitLoading},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.addModal,callback:function(a){t.addModal=a},expression:"addModal"}},[n("div",{staticClass:"add-modal-body"},[n("div",[n("Input",{attrs:{placeholder:"请输入委员名称"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),n("div",[n("Input",{attrs:{placeholder:"请输入委员身份标志地址"},model:{value:t.form.address,callback:function(a){t.$set(t.form,"address",a)},expression:"form.address"}})],1)])])],1)},o=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticStyle:{"margin-bottom":"15px",color:"#273D52","font-weight":"600"}},[n("span",[t._v("数据存管域管理员决议审批规则：")])])}],s=(n("d81d"),n("b0c0"),n("96cf"),n("1da1")),r=n("5530"),i=n("f96b"),d={data:function(){var t=this,a=[{title:"管理员名称",key:"name"},{title:"管理员身份标识",key:"address"},{title:"操作",render:function(a,n){var e=n.row;return a("a",{on:{click:function(){t.del(e)}}},"删除")}}];return{rule:"0",name:"",address:"",submitLoading:!0,addModal:!1,columns1:a,data1:[],total:100,loading:!1,form:{name:"",address:""}}},mounted:function(){this.init()},watch:{},computed:{},methods:{add:function(){this.addModal=!0},init:function(){},ok:function(){var t=this;setTimeout((function(){t.submitLoading=!1,t.$nextTick((function(){t.submitLoading=!0}))}),100),console.log(this.form),""===this.form.name||""===this.form.address?this.$Message.warning("请先完成表单！"):(this.data1.push(Object(r["a"])({},this.form)),this.form.name="",this.form.address="",this.addModal=!1)},cancel:function(){},back:function(){window.history.go(-1)},next:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={from:sessionStorage.getItem("fbs_address"),orgAddress:"",orgName:"",name:t.name,members:t.data1.map((function(t){return t.address})),amount:"1",rule:t.rule},a.next=3,i["a"]({method:"DSDomainApplyContractTxReq",jsBody:JSON.stringify(n)}).then((function(t){return{hexTxBody:t.hexTxBody,txId:t.txId}})).catch((function(a){return t.$Message.error(a.retMsg),!1}));case 3:e=a.sent,e&&t.$qrCodeAuthDialog.show({url:"bs/pbdtx.do",data:e,setIntervalFunc:function(){return i["b"]({txId:e.txId})},func:"send_trans"},(function(a){return a.then((function(a){return 4===a.status||5===a.status||6===a.status?(t.$Message.error(a.remark),!0):3===a.status&&(t.$Message.success("添加成功"),t.$router.go(-1),t.addModal=!1,!0)})).catch((function(){return!1}))}));case 5:case"end":return a.stop()}}),a)})))()},pageChange:function(t){console.log(t)}}},c=d,l=(n("6e8a"),n("2877")),u=Object(l["a"])(c,e,o,!1,null,"c40dd454",null);a["default"]=u.exports},d61b:function(t,a,n){},d81d:function(t,a,n){"use strict";var e=n("23e7"),o=n("b727").map,s=n("1dde"),r=n("ae40"),i=s("map"),d=r("map");e({target:"Array",proto:!0,forced:!i||!d},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},f96b:function(t,a,n){"use strict";n.d(a,"c",(function(){return o})),n.d(a,"a",(function(){return s})),n.d(a,"b",(function(){return r}));var e=n("db04"),o=function(t,a){return e["a"].post("cmw/pbrus.do",t,a)},s=function(t,a){return e["a"].post("bs/pbgen.do",t,a)},r=function(t,a){return e["a"].post("bs/pbgts.do",t,a)}}}]);
//# sourceMappingURL=chunk-892320d4.15accaf0.js.map